
# Namespaces, Networks, Clients, and Services with Java

This project contains different examples of client-server applications in Java using TCP (sockets), UDP (datagrams), RMI (remote method invocation), and a basic web server.
It is part of a laboratory for the Enterprise Architecture course at Escuela Colombiana de Ingeniería Julio Garavito.

## Project Structure

```plaintext
src/main/java/escuelaing/edu/co
│── datagrams/
│   ├── TimeClientUDP.java       # UDP client that requests the time
│   ├── TimeServerUDP.java       # UDP server that responds with the time
│
│── RMI/
│   ├── Chat.java                # Remote interface for the chat, defines the `sendMessage` method
│   ├── ChatApp.java             # Main chat application
│   ├── ChatImpl.java            # RMI chat service implementation
│
│── sockets/
│   ├── Client.java              # Client that requests the square of a number or sin, cos, tan
│   ├── SquareServer.java        # Server that returns the square of a number
│   ├── TrigServer.java          # Server that evaluates sin, cos, tan
│
│── url/
│   ├── MiniBrowser.java         # Simple browser that downloads web pages
│   ├── URLInfo.java             # Shows information about a URL
│
│── webServer/
│   ├── AppServer.java           # Basic web server that responds to requests
│
target/                          # Compiled files
www/                             # Resources for the web server
pom.xml                          # Maven configuration
resultado.html                   # File generated by MiniBrowser
README.md                        # Project documentation
```

## Requirements

    Java 8+
    Maven
    For RMI: run rmiregistry on the corresponding port before starting the server.

## Execution

1. Clone the repository

    * git clone https://github.com/Enigmus12/Esquemas-de-nombres-redes-clientes-y-servicios-con-Java.git
    * cd ArswRedes

2. Compile

    * mvn clean install

3. Run:
    3.1 URL

        * URLInfo: prints protocol, host, port, and path of a URL.
            * java -cp target/classes escuelaing.edu.co.url.URLInfo

        * MiniBrowser: requests a URL and saves the content in resultado.html.
            * java -cp target/classes escuelaing.edu.co.url.MiniBrowser

    3.2 Sockets
        To run this section, you must have two terminals open. In the first, run one of the server classes to test (SquareServer or TrigServer), and in the second terminal, the Client class to test the sockets (Client).

        * SquareServer: receives a number and returns its square.
            * java -cp target/classes escuelaing.edu.co.sockets.SquareServer  

        * Client: sends a number to the server and receives the response.
            * java -cp target/classes escuelaing.edu.co.sockets.Client 

        * TrigServer: server that calculates sin, cos, tan depending on the command fun:<op> received.
            * java -cp target/classes escuelaing.edu.co.sockets.TrigServer 
            * To change the trigonometric function, type: fun:sin | fun:cos | fun:tan

    3.3 Web Server

        * AppServer: handles simple HTTP requests and returns files (HTML, images, etc.).
            * java -cp target/classes escuelaing.edu.co.webServer.AppServer 

            You can test with the following URLs:

            * http://localhost:35000/index.html
            * http://localhost:35000/style.css
            * http://localhost:35000/images/fondo.jpg
            * http://localhost:35000/images/fondo.png

    3.4 Datagrams (UDP)
        To run this section, you must have two terminals open: in the first, run TimeServerUDP, and in the second, TimeClientUDP.

        * TimeServerUDP: server that sends the current time.
            * java -cp target/classes escuelaing.edu.co.datagrams.TimeServerUDP

        * TimeClientUDP: client that queries the server for the time every 5 seconds.
            * java -cp target/classes escuelaing.edu.co.datagrams.TimeClientUDP


    3.5 RMI

        * ChatApp (client/server): allows you to create a distributed chat between two Java nodes using RMI.
            * java -cp target/classes escuelaing.edu.co.RMI.ChatApp

        **Important: Simultaneous execution of ChatApp**

        For the distributed chat to work correctly, you must start and fill in the data in both instances of `ChatApp` (in two different terminals) almost at the same time.
        This is because each user acts as both server and client: first, they publish their service on a local port and then try to connect to the remote port of the other user.

        **If one of the users fills in all the data and presses Enter before the other has started and published their service, a connection error ("Connection refused") will occur, since the remote service is not yet available.**

        **Usage recommendation:**
        1. Open two terminals.
        2. Run `ChatApp` in both terminals:
           ```
           java -cp target/classes escuelaing.edu.co.RMI.ChatApp
           ```
        3. Fill in the data in both consoles (name, local port, IP, and remote port) in a coordinated way, making sure that both users publish their service before trying to connect to the other.

        This way, both services will be available and the connection will be successful.

        Example:

            Terminal 1:

            Name: Juanito
            Local port: 1099
            Other user's IP: 127.0.0.1
            Remote port: 1100

            Terminal 2:

            Name: Liberty
            Local port: 1100
            Other user's IP: 127.0.0.1
            Remote port: 1099


## Author
    Juan David Rodriguez Rodriguez